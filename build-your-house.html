<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Build Your Financial Plan | Financial Freedom in Japan</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">

    <script>
        (function() {
            const theme = localStorage.getItem('theme');
            if (theme === 'dark') {
                document.documentElement.classList.add('dark-mode');
            }
        })();
    </script>
</head>
<body>
    <header>
        <nav class="container">
            <a href="index.html" class="logo" data-lang-key="logo_text">Financial Freedom</a>
            <div class="header-controls">
                <ul class="nav-links-desktop">
                    <li class="dropdown">
                        <a href="#" data-lang-key="nav_learn">Learn</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a href="pension.html" data-lang-key="nav_pension">Pension</a></li>
                                <li><a href="insurance.html" data-lang-key="nav_insurance">Insurance</a></li>
                                <li><a href="investing.html" data-lang-key="nav_investing">Investing</a></li>
                                <li><a href="foreigners.html" data-lang-key="nav_foreigners">For Foreigners</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="dropdown">
                        <a href="#" data-lang-key="nav_resources">Resources</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a href="casestudies.html" data-lang-key="nav_casestudies">Case Studies</a></li>
                                <li><a href="glossary.html" data-lang-key="nav_glossary">Glossary</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="dropdown active">
                        <a href="#" data-lang-key="nav_plan">Plan</a>
                        <div class="dropdown-menu">
                            <ul>
                                <li><a href="build-your-house.html" class="active" data-lang-key="nav_build_plan">Build Your Plan</a></li>
                                <li><a href="retirement-calculator.html" data-lang-key="nav_retirement_calc">Retirement Calc</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
                <a href="seminars.html" class="btn btn-primary" data-lang-key="nav_seminar">Free Seminar</a>
                <div class="utility-controls">
                    <button class="theme-switcher" id="theme-switcher" aria-label="Toggle theme">☀️</button>
                    <button id="language-switcher" aria-label="Switch language">日本語</button>
                </div>
                <button class="hamburger-menu" id="hamburger-menu" aria-label="Open menu">☰</button>
            </div>
        </nav>
        <div class="nav-links-mobile" id="nav-links-mobile">
            <a href="pension.html" data-lang-key="nav_pension">Pension</a>
            <a href="insurance.html" data-lang-key="nav_insurance">Insurance</a>
            <a href="investing.html" data-lang-key="nav_investing">Investing</a>
            <a href="foreigners.html" data-lang-key="nav_foreigners">For Foreigners</a>
            <a href="casestudies.html" data-lang-key="nav_casestudies">Case Studies</a>
            <a href="build-your-house.html" data-lang-key="nav_build_plan">Build Your Plan</a>
            <a href="retirement-calculator.html" data-lang-key="nav_retirement_calc">Retirement Calc</a>
            <a href="glossary.html" data-lang-key="nav_glossary">Glossary</a>
            <a href="seminars.html" class="btn btn-primary" data-lang-key="nav_seminar">Free Seminar</a>
        </div>
    </header>

    <main class="container">
        <section class="content-section">
            <h2 class="section-title" data-aos="fade-up" data-lang-key="house_title">Build Your Financial "House"</h2>
            <p class="subtitle" style="text-align:center; max-width: 800px; margin: -2rem auto 3rem auto;" data-aos="fade-up" data-lang-key="house_subtitle">Building a financial future is like building a house. You need a solid plan, starting from the ground up. Complete each step to build your blueprint for success.</p>

            <div class="house-builder">
                <!-- Step 1: The Foundation (Understanding) -->
                <div class="house-component" id="house-foundation" data-aos="fade-up">
                    <h3 data-lang-key="house_step1_title">Step 1: The Foundation (Understanding)</h3>
                    <p data-lang-key="house_step1_text">No house can stand on a shaky foundation. Start by understanding the reality of your pension and calculating your retirement goals.</p>
                    <a href="pension.html" class="btn btn-primary" style="background-color: var(--color-secondary);" data-lang-key="house_step1_btn">Analyze Your Pension</a>
                </div>

                <!-- Step 2: The Walls (Growth) -->
                <div class="house-component" id="house-walls" data-aos="fade-up" data-aos-delay="100">
                    <h3 data-lang-key="house_step2_title">Step 2: The Walls (Growth)</h3>
                    <p data-lang-key="house_step2_text">Build your walls strong with a solid investment strategy. Learn how to make your money work for you through the power of compounding.</p>
                    <a href="investing.html" class="btn btn-primary" style="background-color: var(--color-secondary);" data-lang-key="house_step2_btn">Learn About Investing</a>
                </div>

                <!-- Step 3: The Roof (Protection) -->
                <div class="house-component" id="house-roof" data-aos="fade-up" data-aos-delay="200">
                    <h3 data-lang-key="house_step3_title">Step 3: The Roof (Protection)</h3>
                    <p data-lang-key="house_step3_text">Protect your assets and family with a proper roof. Understand if your current insurance is a high-fee trap or an effective safety net.</p>
                    <a href="insurance.html" class="btn btn-primary" style="background-color: var(--color-secondary);" data-lang-key="house_step3_btn">Review Your Insurance</a>
                </div>
            </div>

        </section>
    </main>

    <footer>
        <div class="container">
            <p data-lang-key="footer_copyright">© 2024 Your Company Name. All Rights Reserved.</p>
            <p class="disclaimer" data-lang-key="footer_disclaimer">This website provides educational information and is not financial advice. Consult with a qualified professional before making financial decisions.</p>
        </div>
    </footer>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({ duration: 1000, once: true });
        
        // Interactive "House" Logic
        document.addEventListener('DOMContentLoaded', () => {
            function checkVisitedPages() {
                if (sessionStorage.getItem('visitedPension')) {
                    document.getElementById('house-foundation').classList.add('completed');
                }
                if (sessionStorage.getItem('visitedInvesting')) {
                    document.getElementById('house-walls').classList.add('completed');
                }
                if (sessionStorage.getItem('visitedInsurance')) {
                    document.getElementById('house-roof').classList.add('completed');
                }
            }

            // Set flags when links are clicked
            document.querySelectorAll('.house-component a').forEach(link => {
                link.addEventListener('click', () => {
                    const href = link.getAttribute('href');
                    if (href.includes('pension')) {
                        sessionStorage.setItem('visitedPension', 'true');
                    }
                    if (href.includes('investing')) {
                        sessionStorage.setItem('visitedInvesting', 'true');
                    }
                    if (href.includes('insurance')) {
                        sessionStorage.setItem('visitedInsurance', 'true');
                    }
                });
            });

            // Check visited pages on load
            checkVisitedPages();
        });
    </script>
    <script src="js/theme.js"></script>
    <script src="js/mobile-nav.js"></script>
    <script src="js/translations.js"></script>
    <script src="js/language.js"></script>
</body>
</html>